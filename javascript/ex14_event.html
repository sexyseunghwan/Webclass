<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>자바스크립트 이벤트</h1>

    <!-- 시간을 찍어보고 싶다 즉 텍스트 박스를 눌렀을때 시간이 뜨게 하고 싶다!
    
        언젠가 사용자가 마우스를 가지고 누를거다 텍스트박스에 할일을 등록시켜 놓을 수 있다
        즉 그 일을 하기위한 사건을 우리는 "이벤트"라고 부른다
        우리가 할일은 그런 이벤트가 발생되었을때 텍스트박스가 해야할일을 등록해줘야하고
        그때 그 행동을 이벤트를 등록해준다고 하는것이다.
    
    -->

    <form name ="form1">
        <!-- 첫번째 동적으로 이벤트를 걸때 -->
        <div>
            <input type="text" name="txt1">
        </div>
        <div>
            <input type="button" name="btn1" value="클릭"> 
        </div>

        <!-- 두번째 정적으로 이벤트를 걸때 -->
        <div>
            <input type="text" name="txt2">
        </div>
        <div>
            <!-- <input type="button" name="btn2" value="클릭" onclick="window.document.form1.txt2.value = 100;"> -->
             <!--onclick="" 쌍따움표 안 자체가 함수 자신이라고 생각하면되므로
                구현부만 들어가면 된다.
            -->
            <!-- 진짜 급하지 않으면 위처럼 코딩하지 않는다 -->
            <input type="button" name="btn2" value="클릭" onclick="f1();">
            <!-- script 영역에서 f1을 가져올것이다. -->


        </div>
    </form>


    <script>

        //자바스크립트 코딩 패턴
        //1. "어떤 태그 + 어떤 이벤트 + 어떤일"
        //  a. 이벤트를 맵핑할 태그를 찾아야 한다.(BOM or DOM)
        //  b. 찾은 검색 태그에 매핑할 이벤트를 구현한다.
        //  c. 매핑된 이벤트에 할일을 구현한다.


        //a. 
        // window.document.form1.div //이런식으로 div를 넣으면 안된다 무조건 트리구조 보고 족보를 봐야한다
        //아래와 같이 찾아줘야 한다.
        var txt1 = window.document.form1.txt1;//이런식으로 변수에 넣어준다. -> 객체를 생성해준다고 보면 된다.
        var btn1 = window.document.form1.btn1;


        /*
            여기서 의문이 드는점이 하나가 있을 것이다.
            왜 txt1 즉, input tag에 접근하려 하는데 중간에 div태그는 자식에서 빠지는 것인가?
            window.document.form1.div.txt1; -> 이게 맞는거 아닌가 생각이 될 수 있다. 하지만 BOM을 다룰때는 
            무조건 BOM Tree에 맞춰서 접근해주므로 ...div는 중간단계로 들어갈 필요도 없게된다.
        
        */


        //b.
        // txt1.on이벤트이름이붙은 프로퍼티~
        
        //txt1.onclick = 함수 자바스크립트는 함수를 데이터처럼 취급한다. : 익명함수를 넣어준다

        // btn1.onclick = function() {//버튼을 클릭하면 함수를 실행하겠습니다 라고 등록하는 것이다.
            
        //     txt1.value = (new Date()).toLocaleTimeString();
        // };
        //즉 텍스트박스 아래 클릭을 누르게 되면 날짜가 출력이 된다!

        //위와같은 예제는 동적으로 이벤트를 걸었다고 한다.

        var now = new Date();

        if (now.getSeconds() % 2 == 0) {

            btn1.onclick = function() {
                txt1.value = (new Date()).toLocaleTimeString();
            }
            
        } else {
                btn1.onclick = function() {
                txt1.value = "꽝";
            }
        }

        function f1() {
            window.document.form1.txt2.value = 100;
        }

        
        
        

    </script>
</body>
</html>